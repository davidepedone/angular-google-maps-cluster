!function(){"use strict";angular.module("ngMapCluster",[]).directive("clusterMap",function(){return{restrict:"E",replace:!0,scope:{places:"=",mapType:"@?",readonly:"@?",responsive:"@?",draggable:"@?",onClickCallback:"=?"},controller:["$scope",function(a){}],template:'<div class="dp-places-map-wrapper"><div class="dp-places-map-canvas"></div></div>',link:function(a,b,c,d){var e=("true"==a.draggable,{zoom:1}),f="https://raw.githubusercontent.com/davidepedone/angular-google-maps-cluster/master/sample/building.png";e.mapTypeId=google.maps.MapTypeId.ROADMAP,e.center=new google.maps.LatLng(.1700235,20.7319823);var g,h,i=b.find("div")[0],j=new google.maps.Map(i,e),k=[];a.draggable&&"false"==a.draggable&&(e.draggable=!1,e.scrollwheel=!1),a.mapType&&google.maps.MapTypeId[a.mapType]&&(e.mapTypeId=google.maps.MapTypeId[a.mapType]),a.responsive&&"true"==a.responsive&&(i.className+=" responsive");for(var l=function(b){return function(){a.onClickCallback(b,j)}},m=0;m<a.places.length;m++)g=new google.maps.LatLng(a.places[m].latitude,a.places[m].longitude),h=new google.maps.Marker({position:g,map:j,originalObject:a.places[m],icon:f}),google.maps.event.addListener(h,"click",l(h)),k.push(h);var n=new MarkerClusterer(j,k,{gridSize:40,minimumClusterSize:2});n.setCalculator(function(a,b){return{text:a.length,index:b}})}}})}();